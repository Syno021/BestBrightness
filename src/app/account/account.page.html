<!-- account.page.html -->
<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Account</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div *ngIf="loading" class="ion-text-center ion-padding">
    <ion-spinner></ion-spinner>
    <p>Loading user information...</p>
  </div>

  <div *ngIf="!loading">
    <div *ngIf="error" class="ion-text-center ion-padding">
      <ion-text color="danger">
        <p>{{ error }}</p>
      </ion-text>
    </div>

    <ion-card *ngIf="currentUser">
      <ion-card-header>
        <ion-card-title>Profile Information</ion-card-title>
      </ion-card-header>
      
      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-label>
              <h2>Name</h2>
              <p>{{currentUser.first_name}} {{currentUser.last_name}}</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-label>
              <h2>Username</h2>
              <p>{{currentUser.username}}</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-label>
              <h2>Email</h2>
              <p>{{currentUser.email}}</p>
            </ion-label>
          </ion-item>

          <ion-item>
            <ion-label>
              <h2>Role</h2>
              <p>{{currentUser.role}}</p>
            </ion-label>
          </ion-item>
        </ion-list>

        <ion-button expand="block" color="primary" class="ion-margin-top" (click)="logout()">
          Logout
        </ion-button>
      </ion-card-content>
    </ion-card>

    <div *ngIf="!currentUser && !loading" class="ion-text-center ion-padding">
      <h2>Not Logged In</h2>
      <p>Please log in to view your account information.</p>
      <ion-button routerLink="/login">Go to Login</ion-button>
    </div>
  </div>
</ion-content>